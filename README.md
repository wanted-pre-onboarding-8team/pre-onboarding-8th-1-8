# ğŸ—“ï¸ Todo List Best Pratice

<p align="middle">
<img src="./screenshot.png" />
</p>

## ğŸ“„ëª©ì°¨
---
- [ğŸ—“ï¸ Todo List Best Pratice](#ï¸-todo-list-best-pratice)
  - [ğŸ“„ëª©ì°¨](#ëª©ì°¨)
  - [ğŸ§‘ğŸ»â€ğŸ’» íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)
  - [ğŸ“š ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬](#-ì‚¬ìš©-ë¼ì´ë¸ŒëŸ¬ë¦¬)
  - [ğŸƒâ€â™‚ï¸ ì‹¤í–‰ë°©ë²•](#ï¸-ì‹¤í–‰ë°©ë²•)
  - [ğŸ’¡ ì„¤ê³„ ì „ëµ](#-ì„¤ê³„-ì „ëµ)
  - [ğŸ† Best Practice](#-best-practice)
    - [1. ë¡œê·¸ì¸ / íšŒì›ê°€ì…](#1-ë¡œê·¸ì¸--íšŒì›ê°€ì…)
    - [Assignment1](#assignment1)
    - [Assignment2](#assignment2)
    - [Assignment 3](#assignment-3)
    - [Assignment 4](#assignment-4)

<br>

## ğŸ§‘ğŸ»â€ğŸ’» íŒ€ì› ì†Œê°œ
----

|[ì„ì¤€í˜](https://github.com/Limttugi)|[ê¹€í¬ìˆ˜](https://github.com/dev-dong-su)|[ì‹ ë¯¼ê²½](https://github.com/minkyung00)|[ì´ê±´í¬](https://github.com/leezer94)|[ê¶Œíš¨ì§„](https://github.com/k1hyojin)|[í•œìƒì¤€](https://github.com/HANSANGJUN)|[ê¹€ì •ì›](https://github.com/k-gardn)|
| :---: | :---: | :---: | :---: | :---: | :---:| :---: |
<img src="https://avatars.githubusercontent.com/u/67939901?v=4" width=200px alt="_"/> | <img src="https://avatars.githubusercontent.com/u/16986867?s=96&v=4" width=200px alt="_"/> | <img src="https://avatars.githubusercontent.com/u/80238096?v=4" width=200px alt="_"/> | <img src="https://avatars.githubusercontent.com/u/83988230?v=4" width=200px alt="_"> | <img src="https://avatars.githubusercontent.com/u/100255414?v=4" width=200px alt="_"> | <img src="https://avatars.githubusercontent.com/u/102160859?v=4" width=200px alt="_">|<img src="https://avatars.githubusercontent.com/u/108037773?v=4" width=200px alt="_">|

<br>

## ğŸ“š ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬
---
<div align="center">
<img src="https://img.shields.io/badge/tailwindcss-%2338B2AC.svg?style=for-the-badge&logo=tailwind-css&logoColor=white" />
<img src="https://img.shields.io/badge/styled components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white" />

<img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=axios&logoColor=white" />
<img src="https://img.shields.io/badge/ReactRouter-CA4245?style=for-the-badge&logo=react-router&logoColor=white" />

<img src="https://img.shields.io/badge/eslint-4B32C3?style=for-the-badge&logo=eslint&logoColor=white" />
<img src="https://img.shields.io/badge/Prettier-F7B93E?style=for-the-badge&logo=prettier&logoColor=white" />
</div>

<br>

## ğŸƒâ€â™‚ï¸ ì‹¤í–‰ë°©ë²•
----
```
yarn start
```

<br>

## ğŸ’¡ ì„¤ê³„ ì „ëµ
---
**Component**
* ì›ìì„±ì„ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” ë³€ê²½ê³¼ í™•ì¥ì— ìœ ì—°í•˜ê³  ì¬ì‚¬ìš©ì„±ì´ ë†’ê²Œ ì„¤ê³„
* common ì»´í¬ë„ŒíŠ¸ëŠ” ì ˆëŒ€ê²½ë¡œë¥¼ ì‚¬ìš©í•´ ì‚¬ìš©ì— ìš©ì´í•˜ê²Œ ì„¤ê³„
* í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ì ê²½í—˜ì´ ë‹¤ë¥´ë‹¤ë©´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬
* ì»´í¬ë„ŒíŠ¸ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì€ Custom Hookìœ¼ë¡œ ë¶„ë¦¬


**Hooks**
* ì¬ì‚¬ìš©ì„±ì´ ë†’ê³  í•˜ë‚˜ì˜ ì±…ì„ê³¼ ì—­í• ì„ í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„


**Etc**
* ìƒìˆ˜ë“¤ì€ constants ì •ë¦¬
* ì´ë¦„ì€ ê°ê°ì˜ ëª©ì ê³¼ ì—­í• ì„ ì•Œê¸° ì‰½ê²Œ ì‘ì„±
* eslint, prettier ì‚¬ìš©í•´ ì½”ë“œ ì»¨ë²¤ì…˜ ì„¤ì •

<br>

## ğŸ† Best Practice
---
### 1. ë¡œê·¸ì¸ / íšŒì›ê°€ì…

- [x] / ê²½ë¡œì— ë¡œê·¸ì¸ / íšŒì›ê°€ì… ê¸°ëŠ¥ì„ ê°œë°œí•´ì£¼ì„¸ìš”
  * í˜ì´ì§€ ì•ˆì— ì´ë©”ì¼ ì…ë ¥ì°½, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì°½, ì œì¶œ ë²„íŠ¼ì´ í¬í•¨ëœ í˜•íƒœë¡œ êµ¬ì„±í•´ì£¼ì„¸ìš”
  * ë¡œê·¸ì¸, íšŒì›ê°€ì…ì„ ë³„ë„ì˜ ê²½ë¡œë¡œ ë¶„ë¦¬í•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.

**Component**
* êµ¬í˜„ì— í•„ìš”í•œ common ì»´í¬ë„ŒíŠ¸ë¥¼ ì •ì˜ ë° êµ¬í˜„
* Account ì»´í¬ë„ŒíŠ¸ì—ì„œ SignInê³¼ SignUpì„ ì„ íƒí•´ì„œ ë Œë”ë§í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„
* í˜ì´ì§€ ì „í™˜ì„ í•˜ì§€ì•Šê³  ì¢€ë” ì¢‹ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆëŠ” ì¥ì 
```javascript
const Account = () => {
  const [accountMethod, setAccountMethod] = useState('signin');

  return (
    <Container>
      <Header>
        <Title>TODO</Title>
        <RadioContextProvider value={accountMethod} onChange={setAccountMethod}>
          <Radio value="signin">ë¡œê·¸ì¸</Radio>
          <Radio value="signup">íšŒì›ê°€ì…</Radio>
        </RadioContextProvider>
      </Header>
      {accountMethod === 'signin' ? <SignUp /> : <SignIn />}
    </Container>
  );
};
```

**Hooks**
* useInput custom hookìœ¼ë¡œ SignIn/SignUp ì»´í¬ë„ŒíŠ¸ì˜ inputì˜ ì´ë²¤íŠ¸ì™€ ê°’ì˜ valid, ì—ëŸ¬ ë©”ì‹œì§€ ë“±ì„ í•¸ë“¤ë§
```javascript
const useInput = ({ initialValue, errorMessage, required, type }) => {
  const [value, setValue] = useState(initialValue);
  const [valid, setValid] = useState(true);
  const regexp = VALIDATIONS[type];

  const handleChange = ({ target: { value } }) => {
    setValid(!!value.match(regexp));
    setValue(value);
  };

  return {
    value,
    setValue,
    errorMessage,
    required,
    valid,
    onChange: handleChange,
  };
};

```

<br>

### Assignment1
- [x] ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ì˜ ìœ íš¨ì„± ê²€ì‚¬ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì£¼ì„¸ìš”
- [x] ì´ë©”ì¼ ì¡°ê±´: @ í¬í•¨
- [x] ë¹„ë°€ë²ˆí˜¸ ì¡°ê±´: 8ì ì´ìƒ
- [x] ì…ë ¥ëœ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ê°€ ìœ„ ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œë§Œ ë²„íŠ¼ì´ í™œì„±í™” ë˜ë„ë¡ í•´ì£¼ì„¸ìš”
* ë³´ì•ˆ ìƒ ì‹¤ì œ ì‚¬ìš©í•˜ê³  ê³„ì‹  ì´ë©”ì¼ê³¼ íŒ¨ìŠ¤ì›Œë“œë§ê³  í…ŒìŠ¤íŠ¸ìš© ì´ë©”ì¼, íŒ¨ìŠ¤ì›Œë“œ ì‚¬ìš©ì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.

**Component**
```javascript
const Input = ({ type, label, errorMessage, valid, ...rest }) => {
  return (
    <StyledContainer>
      <StyledInput type={type} {...rest} />
      <StyledLabel>{label}</StyledLabel>
      {!valid && <ErrorMessage>{errorMessage}</ErrorMessage>}
    </StyledContainer>
  );
};
```
* Input ì»´í¬ë„ŒíŠ¸ëŠ” useInputì˜ validë¥¼ ë³´ê³  validí•˜ì§€ ì•Šë‹¤ë©´ errorMessageë¥¼ ë Œë”ë§ 

```javascript
<Button
  type="submit"
  className={'mt-2 bg-rose-400 text-white shadow-md mx-auto w-24 h-12'}
  disabled={!form.email.valid || !form.password.valid}
>
```
* Button ì»´í¬ë„ŒíŠ¸ëŠ” ê° inputdl validí•´ì•¼ë§Œ í™œì„±í™”


**Hooks**
* inputì˜ ì±…ì„ì´ ìˆëŠ” useInputì—ì„œ ê°’ì˜ ë³€í™”ê°€ ìˆì„ ì‹œ í•´ë‹¹ ê°’ì´ valid í•œì§€ ì•ˆí•œì§€ ê²€ì‚¬
```javascript
const useInput = ({ initialValue, errorMessage, required, type }) => {
  ...
  const handleChange = ({ target: { value } }) => {
    setValid(!!value.match(regexp));
    setValue(value);
  };
  ...
```

<br>


### Assignment2
- [x] ë¡œê·¸ì¸ APIë¥¼ í˜¸ì¶œí•˜ê³ , ì˜¬ë°”ë¥¸ ì‘ë‹µì„ ë°›ì•˜ì„ ë•Œ /todo ê²½ë¡œë¡œ ì´ë™í•´ì£¼ì„¸ìš”
- [x] ë¡œê·¸ì¸ APIëŠ” ë¡œê·¸ì¸ì´ ì„±ê³µí–ˆì„ ì‹œ Response Bodyì— JWTë¥¼ í¬í•¨í•´ì„œ ì‘ë‹µí•©ë‹ˆë‹¤.
- [x] ì‘ë‹µë°›ì€ JWTëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•´ì£¼ì„¸ìš”

**Api**
```javascript
export const client = axios.create({
  baseURL: process.env.REACT_APP_BASE_URL,
});
```
* axios ì¸ìŠ¤í„´ìŠ¤ì˜ ì •ì˜ base urlì€ .evn íŒŒì¼ë¡œ ê´€ë¦¬
```javascript
export const signUp = formData => client.post('/auth/signup', { email: formData.email, password: formData.password });

export const signIn = formData => client.post('/auth/signin', { email: formData.email, password: formData.password });
```
* formDataë¡œ emailê³¼ passwordë¥¼ ë°›ì•„ bodyì— ë„£ì–´ post ìš”ì²­

**Hooks**
```javascript
const useRequest = () => {
  ... 
  const handleSignInSuccess = response => {
    alert(MESSAGE.LOGIN_SUCCEED);
    setStorageValue(response.data[LOCAL_STORAGE.ACCESS_TOKEN]);
    navigate(ROUTES.TODO);
  };

  const handleSignUpSuccess = () => {
    alert(MESSAGE.SIGNIN_SUCCEED);
    navigate(ROUTES.HOME);
  };

  const responseAction = ({ action, response }) => {
    const actions = {
      SIGN_IN: handleSignInSuccess,
      SIGN_UP: handleSignUpSuccess,
      TODO_LIST: handleTodoList,
    };
    return actions[action](response);
  };

  const handleRequest = async ({ submitFunction, formData, action }) => {
    try {
      const response = await submitFunction(formData);

      if (action) {
        return responseAction({ action, response });
      }
```
* ëª¨ë“  ìš”ì²­ê³¼ ì‘ë‹µì— ëŒ€í•œ ì±…ì„ê³¼ ì—­í• ì„ ê°€ì§€ëŠ” useRequestì˜ ì„¤ê³„ responseActionì€ ì‘ë‹µì´í›„ì˜ í–‰ë™ì„ ì •ì˜í•œë‹¤
* SignInì˜ ê²½ìš° ì„±ê³µí›„ Todo í˜ì´ì§€ë¡œ SignUpì˜ ê²½ìš° ë‹¤ì‹œ /í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

<br>


### Assignment 3

- [x] ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¥¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬ë¥¼ êµ¬í˜„í•´ì£¼ì„¸ìš”
- [x] ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í°ì´ ìˆëŠ” ìƒíƒœë¡œ `/` í˜ì´ì§€ì— ì ‘ì†í•œë‹¤ë©´ `/todo` ê²½ë¡œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œì¼œì£¼ì„¸ìš”
- [x] ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í°ì´ ì—†ëŠ” ìƒíƒœë¡œ `/todo` í˜ì´ì§€ì— ì ‘ì†í•œë‹¤ë©´ `/` ê²½ë¡œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œì¼œì£¼ì„¸ìš”
```jsx
const PrivateRouter = () => {
  const { storageValue: accessToken } = useLocalStorage(LOCAL_STORAGE.ACCESS_TOKEN);

  return !accessToken ? <Navigate to={ROUTES.HOME} replace /> : <Outlet />;
};


const PublicRouter = () => {
  const { pathname } = useLocation();
  const { storageValue: accessToken } = useLocalStorage(LOCAL_STORAGE.ACCESS_TOKEN);

  if (pathname === ROUTES.HOME) {
    return accessToken ? <Navigate to={ROUTES.TODO} replace /> : <Outlet />;
  }

  return accessToken ? <Navigate to={ROUTES.HOME} replace /> : <Outlet />;
};
```

- `Private` / `Public` Router ë¥¼ êµ¬í˜„í•´ ë¡œê·¸ì¸ / ë¹„ë¡œê·¸ì¸ ì ‘ê·¼ ê°€ëŠ¥í•œ ë¼ìš°íŠ¸ë¥¼ êµ¬ë¶„í–ˆìŠµë‹ˆë‹¤.
- `ë¡œê·¸ì¸`ì‹œ ì—ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ routeëŠ” `PrivateRouterì˜` í•˜ìœ„
- `ë¹„ë¡œê·¸ì¸`ì‹œ ì—ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ routeëŠ” `PublicRouterì˜` í•˜ìœ„

<br>

### Assignment 4

- [x] ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ì—ëŠ” íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ê³¼ ì™„ë£Œ ì—¬ë¶€ê°€ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
- [x] ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ì—ëŠ” ì…ë ¥ì°½ê³¼ ì¶”ê°€ ë²„íŠ¼ì´ ìˆê³ , ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì…ë ¥ì°½ì˜ ë‚´ìš©ì´
      ìƒˆë¡œìš´ íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶”ê°€ë˜ë„ë¡ í•´ì£¼ì„¸ìš”

**useRequest.js**
```jsx
const handleRequest = async ({ submitFunction, formData, action }) => {
    try {
      const response = await submitFunction(formData);

      if (action) {
        return responseAction({ action, response });
      }

      return response;
    } catch (error) {
      const { status } = error.response;

      if (status === 400) {
        alert(MESSAGE.USER_ALREADY_EXIST);
      } else if (status === 401) {
        alert(MESSAGE.USER_NOT_MATCH);
      } else if (status === 404) {
        alert(MESSAGE.USER_NOT_FOUND);
      }

      setError(true);
    }
  };
```
- `handleRequest` í•¨ìˆ˜ëŠ” Todoì˜ ì „ë°˜ì ì¸ `CRUD` ê´€ë ¨ request ì„ handling í•´ì¤˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¸ í•¨ìˆ˜ì´ë©° `ìƒíƒœì½”ë“œë³„ ì—ëŸ¬í•¸ë“¤ë§` ë¡œì§ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
- `ì—ëŸ¬ ë©”ì‹œì§€`ëŠ” `ìƒìˆ˜`ë¡œ ê´€ë¦¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.
- `try` ë¬¸ì—ì„œ `response`ë¥¼ return í•´ useTodo hookì˜ ì‚¬ìš©ë¶€ì—ì„œ `responseë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì—…ë°ì´íŠ¸ëœ todoë¥¼ ë Œë”ë§ í•´ì¤ë‹ˆë‹¤.`


**useTodo.js**
```jsx
const handleCreateToDo = async todo => {
    const { data: newTodo } = await handleRequest({
      submitFunction: createTodo,
      formData: { todo: todo, accessToken: storageValue },
    });

    setTodos([...todos, newTodo]);
  };

  const handleUpdateTodo = async todo => {
    const todoCopied = [...todos];

    const id = todo.id;
    const index = todos.findIndex(todo => todo.id === id);

    const { data: modifiedTodo } = await handleRequest({
      submitFunction: updateTodo,
      formData: { ...todo, accessToken: storageValue },
    });

    todoCopied.splice(index, 1, modifiedTodo);
    setTodos(todoCopied);
  };

  const handleDeleteTodo = async id => {
    await handleRequest({
      submitFunction: deleteTodo,
      formData: { id: id, accessToken: storageValue },
    });

    const newTodoList = todos.filter(todo => todo.id !== id);

    setTodos(newTodoList);
  };
```
- ê° ìš”ì²­ì— ë”°ë¥¸ `handleRequest` ì˜ `response` ë¥¼ ê¸°ë°˜ìœ¼ë¡œ setTodosë¥¼ ì§„í–‰í•˜ì—¬ ìƒˆë¡œìš´ ì •ë³´ë¥¼ ë Œë”ë§ ì‹œí‚µë‹ˆë‹¤.